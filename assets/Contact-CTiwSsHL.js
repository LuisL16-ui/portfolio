import{r as a,j as e,u as ce,B as h,d as ue,f as c,z as q,W as de,S as $,aj as M,h as pe,w as me,ak as he,E as ee,al as xe,ae as fe,H as re,p as K,am as be,an as ge,G as ve,v as we,ao as ye}from"./mui-DWtEAueG.js";import{a as je,b as Ee}from"./cardStyles-CBsxcB05.js";import{m as R}from"./motion-Cci6l8UI.js";import"./vendor-gH-7aFTg.js";var ke=({as:n="div",...d},u)=>e.jsx(n,{...d,ref:u}),Te=a.forwardRef(ke),Ce="https://challenges.cloudflare.com/turnstile/v0/api.js",G="cf-turnstile-script",Se="cf-turnstile",J="onloadTurnstileCallback",te=n=>!!document.getElementById(n),Ie=({render:n="explicit",onLoadCallbackName:d=J,scriptOptions:{nonce:u="",defer:r=!0,async:x=!0,id:b="",appendTo:g,onError:v,crossOrigin:p=""}={}})=>{let f=b||G;if(te(f))return;let s=document.createElement("script");s.id=f,s.src=`${Ce}?onload=${d}&render=${n}`,!document.querySelector(`script[src="${s.src}"]`)&&(s.defer=!!r,s.async=!!x,u&&(s.nonce=u),p&&(s.crossOrigin=p),v&&(s.onerror=v,delete window[d]),(g==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(s))},I={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function Ae(n){if(n!=="invisible"&&n!=="interactionOnly")return n}function Be(n=G){let[d,u]=a.useState(!1);return a.useEffect(()=>{let r=()=>{te(n)&&u(!0)},x=new MutationObserver(r);return x.observe(document,{childList:!0,subtree:!0}),r(),()=>{x.disconnect()}},[n]),d}var z="unloaded",ne,We=new Promise((n,d)=>{ne={resolve:n,reject:d},z==="ready"&&n(void 0)}),Le=(n=J)=>(z==="unloaded"&&(z="loading",window[n]=()=>{ne.resolve(),z="ready",delete window[n]}),We),oe=a.forwardRef((n,d)=>{let{scriptOptions:u,options:r={},siteKey:x,onWidgetLoad:b,onSuccess:g,onExpire:v,onError:p,onBeforeInteractive:f,onAfterInteractive:s,onUnsupported:T,onTimeout:w,onLoadScript:D,id:A,style:N,as:U="div",injectScript:P=!0,rerenderOnCallbackChange:t=!1,...l}=n,m=r.size,Y=a.useCallback(()=>typeof m>"u"?{}:r.execution==="execute"?I.invisible:r.appearance==="interaction-only"?I.interactionOnly:I[m],[r.execution,m,r.appearance]),[ae,W]=a.useState(Y()),y=a.useRef(null),[C,_]=a.useState(!1),i=a.useRef(),L=a.useRef(!1),X=A||Se,j=a.useRef({onSuccess:g,onError:p,onExpire:v,onBeforeInteractive:f,onAfterInteractive:s,onUnsupported:T,onTimeout:w});a.useEffect(()=>{t||(j.current={onSuccess:g,onError:p,onExpire:v,onBeforeInteractive:f,onAfterInteractive:s,onUnsupported:T,onTimeout:w})});let H=u?.id||G,F=Be(H),Q=u?.onLoadCallbackName||J,ie=r.appearance||"always",O=a.useMemo(()=>({sitekey:x,action:r.action,cData:r.cData,theme:r.theme||"auto",language:r.language||"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:Ae(m),retry:r.retry||"auto","retry-interval":r.retryInterval||8e3,"refresh-expired":r.refreshExpired||"auto","refresh-timeout":r.refreshTimeout||"auto",execution:r.execution||"render",appearance:r.appearance||"always","feedback-enabled":r.feedbackEnabled||!0,callback:o=>{L.current=!0,t?g?.(o):j.current.onSuccess?.(o)},"error-callback":t?p:(...o)=>j.current.onError?.(...o),"expired-callback":t?v:(...o)=>j.current.onExpire?.(...o),"before-interactive-callback":t?f:(...o)=>j.current.onBeforeInteractive?.(...o),"after-interactive-callback":t?s:(...o)=>j.current.onAfterInteractive?.(...o),"unsupported-callback":t?T:(...o)=>j.current.onUnsupported?.(...o),"timeout-callback":t?w:(...o)=>j.current.onTimeout?.(...o)}),[r.action,r.appearance,r.cData,r.execution,r.language,r.refreshExpired,r.responseField,r.responseFieldName,r.retry,r.retryInterval,r.tabIndex,r.theme,r.feedbackEnabled,r.refreshTimeout,x,m,t,t?g:null,t?p:null,t?v:null,t?f:null,t?s:null,t?T:null,t?w:null]),S=a.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return a.useEffect(function(){P&&!C&&Ie({onLoadCallbackName:Q,scriptOptions:{...u,id:H}})},[P,C,u,H]),a.useEffect(function(){z!=="ready"&&Le(Q).then(()=>_(!0)).catch(console.error)},[]),a.useEffect(function(){if(!y.current||!C)return;let o=!1;return(async()=>{if(o||!y.current)return;let E=window.turnstile.render(y.current,O);i.current=E,i.current&&b?.(i.current)})(),()=>{o=!0,i.current&&(window.turnstile.remove(i.current),L.current=!1)}},[X,C,O]),a.useImperativeHandle(d,()=>{let{turnstile:o}=window;return{getResponse(){if(!o?.getResponse||!i.current||!S()){console.warn("Turnstile has not been loaded");return}return o.getResponse(i.current)},async getResponsePromise(E=3e4,se=100){return new Promise((le,V)=>{let k,Z=async()=>{if(L.current&&window.turnstile&&i.current)try{let B=window.turnstile.getResponse(i.current);return k&&clearTimeout(k),B?le(B):V(new Error("No response received"))}catch(B){return k&&clearTimeout(k),console.warn("Failed to get response",B),V(new Error("Failed to get response"))}k||(k=setTimeout(()=>{k&&clearTimeout(k),V(new Error("Timeout"))},E)),await new Promise(B=>setTimeout(B,se)),await Z()};Z()})},reset(){if(!o?.reset||!i.current||!S()){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&W(I.invisible);try{L.current=!1,o.reset(i.current)}catch(E){console.warn(`Failed to reset Turnstile widget ${i}`,E)}},remove(){if(!o?.remove||!i.current||!S()){console.warn("Turnstile has not been loaded");return}W(I.invisible),L.current=!1,o.remove(i.current),i.current=null},render(){if(!o?.render||!y.current||!S()||i.current){console.warn("Turnstile has not been loaded or container not found");return}let E=o.render(y.current,O);return i.current=E,i.current&&b?.(i.current),r.execution!=="execute"&&W(m?I[m]:{}),E},execute(){if(r.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!o?.execute||!y.current||!i.current||!S()){console.warn("Turnstile has not been loaded or container not found");return}o.execute(y.current,O),W(m?I[m]:{})},isExpired(){return!o?.isExpired||!i.current||!S()?(console.warn("Turnstile has not been loaded"),!1):o.isExpired(i.current)}}},[i,r.execution,m,O,y,S,C,b]),a.useEffect(()=>{F&&!C&&window.turnstile&&_(!0)},[C,F]),a.useEffect(()=>{W(Y())},[r.execution,m,ie]),a.useEffect(()=>{!F||typeof D!="function"||D()},[F]),e.jsx(Te,{ref:y,as:U,id:X,style:{...ae,...N},...l})});oe.displayName="Turnstile";const Pe=()=>{const n=ce(),d=je(n),u=Ee(n),[r,x]=a.useState({name:"",email:"",subject:"",message:""}),[b,g]=a.useState(!1),[v,p]=a.useState(null),[f,s]=a.useState(""),[T,w]=a.useState(!1);a.useEffect(()=>{const t=document.querySelector('script[src*="turnstile"]');if(!window.turnstile&&!T&&!t){const l=document.createElement("script");l.src="https://challenges.cloudflare.com/turnstile/v0/api.js",l.async=!0,l.defer=!0,l.onload=()=>w(!0),l.onerror=()=>{w(!1),s("Error al cargar la verificación de seguridad.")},document.head.appendChild(l)}else window.turnstile?w(!0):t&&setTimeout(()=>{window.turnstile&&w(!0)},1e3)},[]);const D=async t=>{if(t.preventDefault(),!v){s("Por favor, completa la verificación de seguridad.");return}s(""),g(!0);try{(await fetch("https://script.google.com/macros/s/AKfycbw23hvgQusaLIe4cJBz93emEUf7qCUiYrRqEa0ubMkwEDKmUJ3ASWCmumeY9mZdoCMw/exec",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?(x({name:"",email:"",subject:"",message:""}),p(null),alert("¡Mensaje enviado exitosamente! Te responderé pronto.")):alert("Ocurrió un error al enviar el formulario.")}catch(l){console.error(l),alert("Error de red al enviar el formulario.")}g(!1)},A=t=>{x(l=>({...l,[t.target.name]:t.target.value}))},N=[{icon:ee,label:"Email",value:"joselp.02@outlook.com",href:"mailto:joselp.02@outlook.com",description:"Respondo en menos de 24 horas"},{icon:xe,label:"Teléfono",value:"+52 667 404 2841",href:"tel:+526674042841",description:"Disponible de 9:00 a 18:00"},{icon:fe,label:"Ubicación",value:"Sinaloa, México",href:"#",description:"También trabajo remotamente"}],U=[{icon:ve,label:"GitHub",href:"https://github.com/joseluislopez",username:"@joseluislopez",color:"#333"},{icon:we,label:"LinkedIn",href:"https://linkedin.com/in/joseluislopez",username:"/in/joseluislopez",color:"#0077B5"},{icon:ye,label:"Twitter",href:"https://twitter.com/joseluislopez",username:"@joseluislopez",color:"#1DA1F2"}],P=[{icon:be,title:"Chat rápido",description:"Envíame un mensaje directo",action:"Abrir WhatsApp",href:"https://wa.me/6674042841",color:"#25D366"},{icon:ge,title:"Reunión virtual",description:"Agenda una videollamada",action:"Programar reunión",href:"#",color:"#3B82F6"},{icon:ee,title:"Consulta por email",description:"Para proyectos complejos",action:"Enviar email",href:"mailto:joseluislopezperez@email.com",color:"#8B5CF6"}];return e.jsx(h,{id:"contact",sx:{py:{xs:8,md:12},backgroundColor:"background.default"},children:e.jsxs(ue,{maxWidth:"lg",children:[e.jsx(R.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:e.jsxs(h,{sx:{textAlign:"center",mb:8},children:[e.jsx(c,{variant:"h2",sx:d.gradientTitle,children:"¡Hablemos!"}),e.jsx(h,{sx:u.gradientDivider}),e.jsx(c,{variant:"h6",color:"text.secondary",sx:{maxWidth:700,mx:"auto",lineHeight:1.6},children:"¿Tienes un proyecto en mente? ¿Necesitas una consulta técnica? ¿O simplemente quieres saludar? Me encantaría conocer tu historia y ver cómo puedo ayudarte."})]})}),e.jsxs(h,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:6},children:[e.jsx(h,{sx:{flex:{xs:1,lg:7}},children:e.jsx(R.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:e.jsx(q,{sx:{background:n.palette.mode==="dark"?"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(30, 41, 59, 0.95) 100%)":"linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(255, 255, 255, 1) 100%)",border:`1px solid ${n.palette.mode==="dark"?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.1)"}`,boxShadow:n.palette.mode==="dark"?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(59, 130, 246, 0.1)"},children:e.jsxs(de,{sx:{p:4},children:[e.jsx(c,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Envíame un mensaje"}),e.jsx(h,{component:"form",onSubmit:D,sx:{mt:3},children:e.jsxs($,{spacing:3,children:[e.jsxs(h,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)"},gap:3},children:[e.jsx(M,{fullWidth:!0,name:"name",label:"Nombre completo",value:r.name,onChange:A,required:!0,placeholder:"Tu nombre"}),e.jsx(M,{fullWidth:!0,name:"email",label:"Email",type:"email",value:r.email,onChange:A,required:!0,placeholder:"tu@email.com"})]}),e.jsx(M,{fullWidth:!0,name:"subject",label:"Asunto",value:r.subject,onChange:A,required:!0,placeholder:"¿En qué puedo ayudarte?"}),e.jsx(M,{fullWidth:!0,name:"message",label:"Mensaje",multiline:!0,rows:6,value:r.message,onChange:A,required:!0,placeholder:"Cuéntame sobre tu proyecto, consulta o simplemente saluda..."}),e.jsxs(h,{sx:{mb:2},children:[e.jsx(c,{variant:"body2",sx:{mb:2,fontWeight:600},children:"Verificación de seguridad:"}),T?e.jsx(oe,{siteKey:"0x4AAAAAABw8YfT1CfP680X4",onSuccess:t=>{p(t),s("")},onError:()=>{p(null),s("Error en la verificación. Inténtalo de nuevo.")},onExpire:()=>{p(null),s("La verificación ha expirado. Por favor, refresca.")}}):e.jsx(c,{variant:"body2",color:"text.secondary",children:"Cargando verificación de seguridad..."}),f&&e.jsx(c,{variant:"caption",color:"error",children:f})]}),e.jsx(pe,{type:"submit",variant:"contained",fullWidth:!0,size:"large",disabled:b,startIcon:b?e.jsx(me,{size:20,color:"inherit"}):e.jsx(he,{}),children:b?"Enviando...":"Enviar mensaje"})]})})]})})})}),e.jsxs(h,{sx:{flex:{xs:1,lg:5},display:"flex",flexDirection:"column",gap:4},children:[e.jsx(R.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:e.jsxs(q,{sx:{p:3,background:n.palette.background.paper,border:`1px solid ${n.palette.divider}`},children:[e.jsx(c,{variant:"h5",gutterBottom:!0,children:"Información de contacto"}),e.jsx($,{spacing:3,children:N.map((t,l)=>e.jsxs(re,{sx:{p:2,display:"flex",alignItems:"center",gap:2,cursor:"pointer",transition:"0.3s","&:hover":{transform:"translateY(-3px)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},component:"a",href:t.href,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(K,{sx:{bgcolor:"primary.main",color:"white"},children:e.jsx(t.icon,{})}),e.jsxs(h,{children:[e.jsx(c,{variant:"subtitle1",fontWeight:600,children:t.label}),e.jsx(c,{variant:"body2",children:t.value}),e.jsx(c,{variant:"caption",color:"text.secondary",children:t.description})]})]},l))})]})}),e.jsx(R.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},children:e.jsxs(q,{sx:{p:3,background:n.palette.background.paper,border:`1px solid ${n.palette.divider}`},children:[e.jsx(c,{variant:"h5",gutterBottom:!0,children:"Acciones rápidas"}),e.jsx($,{spacing:2,children:P.map((t,l)=>e.jsxs(re,{sx:{p:2,display:"flex",alignItems:"center",gap:2,borderLeft:`4px solid ${t.color}`,transition:"0.3s",cursor:"pointer","&:hover":{transform:"translateX(5px)",backgroundColor:n.palette.action.hover}},component:"a",href:t.href,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(K,{sx:{bgcolor:t.color,color:"white"},children:e.jsx(t.icon,{})}),e.jsxs(h,{children:[e.jsx(c,{variant:"subtitle1",fontWeight:600,children:t.title}),e.jsx(c,{variant:"body2",color:"text.secondary",children:t.description}),e.jsx(c,{variant:"caption",color:"primary",children:t.action})]})]},l))})]})}),e.jsx(R.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.4},children:e.jsxs(q,{sx:{p:3,background:n.palette.background.paper,border:`1px solid ${n.palette.divider}`},children:[e.jsx(c,{variant:"h5",gutterBottom:!0,children:"Conecta conmigo"}),e.jsx($,{direction:"row",spacing:2,children:U.map((t,l)=>e.jsx(K,{sx:{bgcolor:t.color,cursor:"pointer",width:48,height:48,"&:hover":{opacity:.8,transform:"scale(1.1)",transition:"0.3s"}},component:"a",href:t.href,target:"_blank",rel:"noopener noreferrer",children:e.jsx(t.icon,{})},l))})]})})]})]})]})})};export{Pe as default};
